# 🍊 Perfumism 퍼퓨미즘  

### 👩‍👩‍👧‍👧 팀원 소개

**권연주 (Backend, Data)**

**박예정 (Frontend, Data)**

**방기진 (Frontend, Data)**

**우동진 (Frontend)** 👑

**우상준 (Backend, Deployment)**

**이승기 (Backend)**

<br />

### 📝 프로젝트 개요

**Perfumism:** 37,000개 데이터 기반 향수 추천 서비스

- **진행 기간:** 2022.02.21 ~ 2022.04.08

- 🖼 **기획 배경**

  - 향수 시장 규모 해가 갈수록 증가

    https://biz.chosun.com/distribution/fashion-beauty/2021/05/11/YAJSM7CZPNGHXDRWQKQPZRMAZI/

  - 코로나 장기화로 마스크가 필수품이 되면서 색조화장이 감소한 틈을 타 향수가 개성을 표현하는 도구로 부각

    https://www.sentv.co.kr/news/view/603139

  - 코로나로 인한 보복 소비 심리로 고가 프리미엄 향수인 니치향수에 대한 수요 증가(희소한 향기를 통해 개성을 나타내려는 의도, 희소성이 있는 향에 대한 수요가 증가하는 추세)

    https://www.siminilbo.co.kr/news/newsview.php?ncode=1065594300799615

  - 여러 브랜드의 향수 정보를 한눈에 볼수 있는 국내 서비스 부재

  - 코로나로 인한 외출이나 시향 어려움으로 추천을 받을 수 있는 서비스 필요성 증가

- ⚔ **기획 의도**

  - 향수에 대해 잘 모르는 사람들을 위해 정보 제공 및 추천
  - 자신만의 브랜드를 찾으려는 소비자들을 위한 향수 추천 기능 제공
  - 한 곳에서 여러 브랜드의 향수 추천 및 정보 제공

- 🎯 **주요 타겟층**

  - 시향에 어려움을 겪는 소비자(코로나)
  - 판매처에 접근이 어려운 소비자(백화점이 먼)
  - 어떤 향수를 시향 해야 할지 모르겠는 소비자
  - 내 취향을 한눈에 분석해보고 싶은 소비자

- 🖖 **핵심 키워드 3가지**

  - **향수 추천 페이지**
    - 설문조사 기반 향수 추천
    - 좋아요 기반 향수 추천
  - **향수 페이지**
    - 37,000개의 향수 정보
    - 필터링 기능
    - 사용자의 리뷰 및 평점 기능
    - 선택한 향수와 유사한 향수 추천
  - **커뮤니티**
    - 말머리를 통한 게시글 분류
    - 다른 사용자와의 커뮤니케이션 공간

- 🎬 **프로젝트 UCC**

<br />

### 🎉 프로젝트 소개

**Perfumism**은 37,000개 데이터를 기반으로 <u>향수를 추천</u>해주는 서비스 입니다.

여러분은 니치향수가 무엇인지 잘 알고 계신가요? 니치향수는 천연 원료나 흔하지 않은 성분을 사용해 희소성이 높은 향수를 의미합니다. 이 니치향수가 최근 소비자들에게 자신만의 개성을 표현하는 도구로 많은 인기를 끌고 있습니다. 특히 트렌드에 민감하고 욜로와 소확행을 추구하는 MZ세대들에게 주요한 소비 트렌드로서 자리 잡았습니다.

또한 코로나 팬데믹으로 인해 마스크 착용이 일상화되면서 색조 메이크업보다는 향수로 자신의 개성을 표현하려는 수요가 더욱 더 늘고 있습니다. 니치향수가 일종의 스몰 럭셔리 아이템으로 주목을 받으면서 많은 화장품 기업들도 발빠르게 니치향수 시장에 뛰어들고 있습니다.

이러한 소비 흐름으로 국내 프리미엄 향수 시장의 규모는, 가파른 성장세를 보이며 전문가들도 앞으로는 향수 시장이 계속 성장할 것으로 전망하고 있습니다.

하지만 향수에 대한 높은 수요에도 불구하고, 많은 향수 쇼핑몰에서는 취향에 맞는 향수 추천이나, 통합적인 향수 정보를 제공하고 있지 않았습니다.

따라서 저희 팀은 다양한 브랜드의 객관적인 향수 정보를 통합적으로 제공하고, 나아가 사용자의 취향에 알맞는 향수까지 추천해줄 수 있는 웹 서비스, **Perfumism**을 개발했습니다.

<br />

당신의 가치를 더욱 빛내줄 향수를 찾아보세요.

#### PERFUMISM

<br />

### ⛏ 주요 기능

[ERD](https://user-images.githubusercontent.com/97500667/173713460-386fda21-6c32-42e1-a317-329303a0e59f.png)

[Skills](https://user-images.githubusercontent.com/97500667/173713463-16d540cf-3457-455e-a7b1-0780c812d4f8.png)

[Architecture](https://user-images.githubusercontent.com/97500667/173713380-510ce1f7-5882-46a2-8ffd-da82151d4866.png)

#### 향수 추천![recommend](https://user-images.githubusercontent.com/97500667/173715898-6c2e871a-b36c-47f9-b620-323f5745da12.png)

- 5가지의 간단한 설문을 실시하고 향수 추천 결과를 받아볼 수 있습니다.
- 로그인한 유저라면 자신이 좋아요한 향수를 기반으로 추천 결과를 받아볼 수 있습니다.
- 추천 결과 페이지에서 사용자는 좋아하는 향기를 워드 클라우드로 쉽게 확인할 수 있습니다.

[추천은 어떻게 이루어지나요 ??](#-recommendation)

<br />

#### 향수 조회 및 검색

![perfumePage](https://user-images.githubusercontent.com/97500667/173741274-2c1fb01f-c24d-49cc-9840-8593ed3fa542.png)

- 37,000개 향수 목록을 무한스크롤을 통해 조회할 수 있습니다.
- 향기, 브랜드, 향수명을 검색할 수 있습니다.
- 향수 이미지 hover시 생기는 하트를 통해 좋아요를 누를 수 있습니다.
- 상세페이지를 통해 해당 향수의 정보를 확인할 수 있습니다.
- 상세페이지에서 해당 향수와 유사한 향수를 추천 받을 수 있습니다.
- 상세페이지에서 리뷰를 작성할 수 있습니다.

<br />

#### 커뮤니티

![community](https://user-images.githubusercontent.com/97500667/173741622-fc7c77fd-09a8-4f1c-b362-5f230a2d0dde.png)

- 로그인한 사용자만 커뮤니티를 이용할 수 있습니다.
- 말머리를 통해 게시글을 분류하고 있고 말머리 필터링 기능을 제공하고 있습니다.
- 게시글에는 댓글과 대댓글을 작성할 수 있습니다.

<br />

### 🙃 Perfumism 프로젝트 회고

#### ✨ Recommendation

**빅데이터 추천 알고리즘**

- 컨텐츠 기반 필터링 (content based filtering)
  - 특정 아이템과 비슷한 컨텐츠를 가진 다른 아이템을 추천 해주는 방식
- 협업 필터링 (collaborative filtering)
  - 사용자의 행동양식 기반으로 예측하여 아이템을 추천해주는 방식

**저희팀은 초기 사용자 데이터(사용자의 행동양식)가 없기 때문에 컨텐츠 기반 필터링을 선택하여 사용했습니다.**

<br />

**유사도 계산방식**

- 코사인 유사도 (Cosine Similarity)
  - 두 벡터의 코사인 각도를 계산하여 유사성 측정
  - -1 에서 1 사이의 값을 가지며 -1은 서로 완전 반대, 0은 서로 독립, 1은 서로 완전 같음을 의미
- 자카드 유사도 (Jaccard Similarity)
  - 두 집합 사이의 유사도를 측정하는 방법
  - 두 집합이 동일하면 1, 공통 원소가 하나도 없으면 0
  - 식으로 정의하면 교집합을 합집합으로 나눈 것
- 피어슨 유사도 (Pearson Similarity)
  - 두 벡터의 상관계수를 계산
  - 유사성이 가장 높을 경우 1, 가장 낮을 경우 -1의 값을 가짐
  - 특정인물의 점수가 극단적으로 높거나 낮을 경우 유사도에 영향을 주기 때문에 이를 막기 위한 방법
- 평균제곱차이 유사도 (Mean Squared Difference Similarity)
  - 유클리드 공간에서의 거리 제곱에 비례하는 값
  - msd값을 구하고 그 역수로 유사도를 정의함

<br />

> **<전문가 리뷰 1차>**
>
> **컨설턴트님: 코사인 유사도가 가장 빠른 모델로 현업에도 많이 사용되고 있다.**
>
> => 코사인 유사도를 활용하여 컨텐츠 기반 필터링 시스템을 구축하기로 결정

**추가적으로 코사인 유사도를 선택한 이유**

=> 양수공간 (결과 값이 0 ~ 1 사이의 값으로 나오는 경우) 이라는 조건만 만족한다면 얼마나 많은 차원이든지 거리를 계산할 수 있기 때문

<br />

**초기 추천 시스템**

- 설문 및 좋아요 기반 사용자가 선호하는 향기 추출
- 추출한 데이터를 향수 37,000개 데이터와 함께 코사인 유사도 계산
- 가장 유사한 향수 데이터 추출

=> 37,000개 데이터를 한 번에 코사인 유사도 계산할 경우 평균 **300~360초 정도 소요**

=> 실시간으로 서비스를 제공하기에 ~~부적합~~

**해결 방법**

- 코사인 유사도 계산 시간을 측정하기 위해 테스트 실시
- 데이터가 300개일 때 0.25s
- 500: 0.32s, 5000: 2.1s, 10000: 7.5s, 15000: 16s (데이터 수 : 계산 시간)
- 데이터 수가 증가할수록 기하급수적으로 계산시간이 증가함

=> 향수 데이터를 한 번에 계산하지 말고 사전에 유사한 향수끼리 **군집화**를 학습시키자 !

=> 머신러닝 알고리즘 도입

<br />

> **<전문가 리뷰 2차>**
>
> 저희 팀: DBSCAN 알고리즘을 활용하여 향수 데이터를 군집화 하려고 하는데 어떻게 생각하시나요 ?
>
> **컨설턴트님: 데이터의 분포가 적절하고 군집화가 잘 맞게 떨어진다면 DBSCAN을 이용하는 것은 굉장이 좋은 선택이다 !**
>
> => 반경과 밀도를 조절하여 군집화가 잘 이루어 지도록 만든 뒤 추천 시스템에 적용하기로 결정

<br />

**최종 추천 시스템**

- 37,000개 향수 데이터 DBSCAN을 활용하여 군집화
- 설문 및 좋아요 기반 사용자 선호하는 향기 추출
- 추출한 데이터가 어떤 군집에 속하는지 탐색
- 해당 군집의 향수 데이터와 코사인 유사도 계산
- 가장 유사한 향수 데이터 추출

=> 5초 이내에 추천 결과를 확인할 수 있음

<br />

#### 🙏 협업 룰

- **Jira**

  - 에픽은 각자 맡은 기능으로 구분하여 사용
  - 스프린트 시작 전까지 금주 에픽 및 스토리 등록
  - 스프린트 기간(월~금) 설정 후 시작
    - 월요일 10시
    - 백로그 → 스프린트로 스토리 옮기기
  - 스토리 포인트는 1시간에 1포인트
  - Description에 as-is 와 to-be 작성

- **Git**

  - **Branch타입/issue-"JIRA 번호"**

    - 브랜치 타입
      - feature
      - bugfix
    - 작성 예시
      - feature/issue-01

  - **Commit Type**

    - feat : 새로운 기능 추가
    - fix : 버그 수정
    - docs : 문서 수정
    - style : 코드 포맷팅, 세미콜론 누락, 코드 변경이 없는 경우
    - refactor : 코드 리펙토링
    - test : 테스트 코드, 리펙토링 테스트 코드 추가
    - chore : 빌드 업무 수정, 패키지 매니저 수정
    - 작성 예시
      - git commit -m “[S06P22D105-"JIRA 번호"] feat: commit msg”

  - **Rebase**

    - ```
      git remote add (최신 업데이트 저장소 네임) (최신 업데이트 저장소 url)
      git fetch upstream (동기화할 로컬 브랜치)
      git rebase upstream/(동기화할 로컬 브랜치)
      ```

  - **Gitlab Merge Request**

    제목 : [S06P22D105-JIRA 번호] 추가한 기능

    내용 :

    작업내용

    - 이런거 했습니다!!
